# =============================================================================
# SmartDalali Backend Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Django Core Settings
# -----------------------------------------------------------------------------
# Environment: development, staging, or production
# IMPORTANT: Set to 'production' in production to enforce security checks
DJANGO_ENV=development

# SECURITY WARNING: Generate a new secret key for production!
# Use: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# REQUIRED in production, optional in development
SECRET_KEY=django-insecure-dhfn74p*yyq0djgdi73&prs88^h903a3a$1s_z4u*-vh@!n+hf

# DEBUG should be False in production
DEBUG=True

# Comma-separated list of allowed hosts (REQUIRED in production, no wildcards)
# Example: ALLOWED_HOSTS=smartdalali.com,www.smartdalali.com,api.smartdalali.com
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# Security Settings (Production)
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# For SQLite (Development - default)
# Leave these empty to use SQLite

# For PostgreSQL (Production - recommended)
# DB_ENGINE=django.db.backends.postgresql
# DB_NAME=smartdalali
# DB_USER=smartdalali_user
# DB_PASSWORD=your_secure_password_here
# DB_HOST=localhost
# DB_PORT=5432

# -----------------------------------------------------------------------------
# Redis Configuration (Optional - for caching and channels)
# -----------------------------------------------------------------------------
# Format: redis://[:password@]host[:port][/database]
# Example: redis://localhost:6379/0
# Example with password: redis://:mypassword@localhost:6379/0
REDIS_URL=

# -----------------------------------------------------------------------------
# CORS & CSRF Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins (frontend URLs)
# Example: http://localhost:5173,https://app.smartdalali.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080,http://localhost:8081
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://localhost:5173,https://app.smartdalali.com

# -----------------------------------------------------------------------------
# Frontend URL
# -----------------------------------------------------------------------------
# Used in activation emails and password reset links
FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Google Maps API
# -----------------------------------------------------------------------------
# Get your API key from: https://console.cloud.google.com/google/maps-apis
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here
GOOGLE_MAPS_GEOCODE_TIMEOUT=5

# -----------------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------------
# SMTP Settings (for development/testing)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your_email@gmail.com
EMAIL_HOST_PASSWORD=your_app_password_here
DEFAULT_FROM_EMAIL=your_email@gmail.com

# SendGrid (Production - recommended)
# If SENDGRID_API_KEY is set, it will override SMTP settings
SENDGRID_API_KEY=
SENDGRID_DEFAULT_FROM=noreply@smartdalali.com
SENDGRID_SERVER_EMAIL=noreply@smartdalali.com
SENDGRID_API_URL=https://api.sendgrid.com/v3/

# -----------------------------------------------------------------------------
# AWS S3 Storage (Optional - for media files)
# -----------------------------------------------------------------------------
# Leave empty to use local file storage
AWS_STORAGE_BUCKET_NAME=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_CUSTOM_DOMAIN=
# Example: cdn.smartdalali.com

# -----------------------------------------------------------------------------
# Social Authentication (django-allauth)
# -----------------------------------------------------------------------------
# Google OAuth
SOCIAL_GOOGLE_CLIENT_ID=
SOCIAL_GOOGLE_SECRET=

# Facebook OAuth
SOCIAL_FACEBOOK_CLIENT_ID=
SOCIAL_FACEBOOK_SECRET=

# Microsoft OAuth
SOCIAL_MICROSOFT_CLIENT_ID=
SOCIAL_MICROSOFT_SECRET=

# Apple OAuth
SOCIAL_APPLE_CLIENT_ID=
SOCIAL_APPLE_SECRET=

# Account Settings
ACCOUNT_AUTHENTICATION_METHOD=username_email
ACCOUNT_EMAIL_REQUIRED=True
ACCOUNT_EMAIL_VERIFICATION=optional
SOCIALACCOUNT_EMAIL_VERIFICATION=optional
LOGIN_REDIRECT_URL=/

# -----------------------------------------------------------------------------
# Firebase Admin SDK (for Firebase authentication)
# -----------------------------------------------------------------------------
# You can either provide the full JSON as a string or individual fields
FIREBASE_CREDENTIALS_JSON=
FIREBASE_TYPE=service_account
FIREBASE_PROJECT_ID=real-estate-4b95b
FIREBASE_PRIVATE_KEY_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=
FIREBASE_CLIENT_ID=
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_AUTH_PROVIDER_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
FIREBASE_CLIENT_CERT_URL=

# -----------------------------------------------------------------------------
# M-Pesa Payment Integration (Daraja API)
# -----------------------------------------------------------------------------
# Get credentials from: https://developer.safaricom.co.ke/
DAR_AFFILIATE_CONSUMER_KEY=your_mpesa_consumer_key
DAR_AFFILIATE_CONSUMER_SECRET=your_mpesa_consumer_secret

# -----------------------------------------------------------------------------
# Twilio SMS Integration (Optional)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# -----------------------------------------------------------------------------
# Stripe Payment Integration (Optional)
# -----------------------------------------------------------------------------
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# Sentry Error Tracking (Optional)
# -----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.2
SENTRY_PROFILES_SAMPLE_RATE=0.0
SENTRY_SEND_DEFAULT_PII=False

# M-Pesa Daraja Additional Settings
# Business Shortcode (Paybill or Till Number)
DAR_SHORTCODE=your_business_shortcode

# Lipa Na M-Pesa Online Passkey
DAR_PASSKEY=your_lipa_na_mpesa_passkey

# M-Pesa API Base URL
# Sandbox: https://sandbox.safaricom.co.ke
# Production: https://api.safaricom.co.ke
MPESA_API_BASE=https://sandbox.safaricom.co.ke

# M-Pesa Callback URL (full URL where Safaricom will send payment callbacks)
# Example: https://api.smartdalali.com/api/v1/properties/payments/mpesa/callback/
MPESA_CALLBACK_URL=

# M-Pesa Daraja Additional Settings
# Business Shortcode (Paybill or Till Number)
DAR_SHORTCODE=your_business_shortcode

# Lipa Na M-Pesa Online Passkey
DAR_PASSKEY=your_lipa_na_mpesa_passkey

# M-Pesa API Base URL
# Sandbox: https://sandbox.safaricom.co.ke
# Production: https://api.safaricom.co.ke
MPESA_API_BASE=https://sandbox.safaricom.co.ke

# M-Pesa Callback URL (full URL where Safaricom will send payment callbacks)
# Example: https://api.smartdalali.com/api/v1/properties/payments/mpesa/callback/
MPESA_CALLBACK_URL=
